# TCP/IP模型 vs OSI七层模型
#### 为什么需要网络模型？
网络通信涉及复杂的硬件、软件和协议，模型的作用是：

 - 分层设计：各层专注特定功能，互不干扰（如物理层管电线，应用层管软件）。

 - 标准化：不同厂商设备只要遵循同一模型就能互通（比如华为路由器连接苹果手机）。

 ## OSI七层模型（理论参考模型）

国际标准化组织（ISO）提出，理论性强，实际中TCP/IP更常用，但OSI是学习的基础。

| 层数 | 名称       | 功能描述                                      | 协议举例                            | 数据传输单元     | 类比说明                       |
|------|------------|-----------------------------------------------|-------------------------------------|------------------|-------------------------------|
| 7    | 应用层     | 用户接口，提供网络服务（如浏览器、邮件）      | HTTP, FTP, SMTP, DNS               | 数据（Data）     | 写信的内容                     |
| 6    | 表示层     | 数据格式转换（加密/解密、压缩/解压、编码转换） | SSL, JPEG, MPEG                    | 数据（Data）     | 将信翻译成对方能懂的语言       |
| 5    | 会话层     | 建立、管理、终止会话（如断点续传）             | NetBIOS, RPC                       | 数据（Data）     | 确认双方是否可以通信           |
| 4    | 传输层     | 端到端可靠传输（纠错、流量控制）               | TCP, UDP                           | 段（Segment）    | 邮局确认信是否送到             |
| 3    | 网络层     | 逻辑寻址（IP）、路由选择（跨网络传输）         | IP, ICMP, ARP, Router              | 包（Packet）     | 决定信走哪条路                 |
| 2    | 数据链路层 | 物理寻址（MAC）、差错检测（同一局域网内传输）  | Ethernet, PPP, Switch, MAC         | 帧（Frame）      | 邮递员负责送信到具体地址       |
| 1    | 物理层     | 传输比特流（电信号、光信号、无线电波）         | RJ45, Fiber, WiFi, Hub             | 比特（Bit）      | 信纸和邮车                     |

#### OSI七层模型工作流程（以访问网页为例）
 - **应用层：** 你在浏览器输入 http://www.example.com（HTTP协议）。

 - **表示层：** 将HTTP请求加密（如HTTPS）或压缩。

 - **会话层：** 建立与服务器的会话（如Cookie维持登录状态）。

 - **传输层：TCP** 将数据分段，添加端口号（如 80），确保可靠传输。

 - **网络层：** IP协议封装数据包，添加源IP和目标IP（如 192.168.1.100 → 93.184.216.34）。

 - **数据链路层：** 以太网封装成帧，添加MAC地址（如 00:1A:2B:3C:4D:5E）。

 - **物理层：** 转换成电信号通过网线/WiFi传输。


 ## TCP/IP四层模型（实际应用模型）

由互联网实际发展而来，去掉了OSI的会话层和表示层，更简洁。

| 层数 | 名称         | 对应OSI层                     | 功能描述                    | 协议举例                        |
|------|--------------|-------------------------------|-----------------------------|---------------------------------|
| 4    | 应用层       | 应用层 + 表示层 + 会话层       | 用户接口和高级协议           | HTTP, FTP, DNS, SMTP            |
| 3    | 传输层       | 传输层                         | 端到端通信（TCP/UDP）        | TCP, UDP                        |
| 2    | 网络层       | 网络层                         | 逻辑寻址和路由（IP）         | IP, ICMP, ARP                   |
| 1    | 网络接口层   | 数据链路层 + 物理层            | 物理传输和本地网络访问       | Ethernet, WiFi, PPP             |



#### TCP/IP模型工作流程（以发送邮件为例）

- **应用层**：邮件客户端（如 Outlook）使用 **SMTP** 协议准备邮件内容。
- **传输层**：**TCP** 将邮件分段，添加端口号（如 `25`），确保数据完整。
- **网络层**：**IP** 协议封装数据包，指定发送方和接收方 IP（如 `192.168.1.100 → 142.250.190.46`）。
- **网络接口层**：通过 **以太网/WiFi** 将数据帧发送到路由器，最终到达目标服务器。
